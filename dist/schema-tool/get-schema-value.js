"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getObjDeepProp=require("../utils/get-obj-deep-prop"),_getObjDeepProp2=_interopRequireDefault(_getObjDeepProp),_typeCheck=require("../type-check");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var isSchemeToolsObject=function(a){return a instanceof Object&&a.__schema__},recursive=function(a,b,c){return Object.keys(a).forEach(function(d){var e=a[d];if((0,_typeCheck.isString)(e)&&-1===c.indexOf(d))a[d]=(0,_getObjDeepProp2.default)(b,e),c.push(d);else if(isSchemeToolsObject(e)){var f=e.__schema__,g=f.job,h=f.seperator,i=void 0===h?" ":h,j=f.values,k=void 0===j?[]:j;if(k=k.map(function(a){return(0,_getObjDeepProp2.default)(b,a)}),"join"===g&&(a[d]=k.join(i)),"custom"===g){var l=f.custom;"function"==typeof l&&(a[d]=l.apply(void 0,k))}}else(0,_typeCheck.isObject)(e)&&recursive(e,b,c)}),c.length=0,a};exports.default=recursive;
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getObjDeepProp=require("../utils/get-obj-deep-prop"),_getObjDeepProp2=_interopRequireDefault(_getObjDeepProp),_typeCheck=require("../type-check");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var isSchemeToolsObject=function(a){return a instanceof Object&&a.__schema__},schemaToolGenerator=function(a,b){var c=a.__schema__,d=c.job,e=c.seperator,f=void 0===e?" ":e,g=c.values,h=void 0===g?[]:g;if(h=h.map(function(a){return(0,_getObjDeepProp2.default)(a)(b)}),"join"===d)return h.join(f);if("custom"===d){var i=c.custom;if("function"==typeof i)return i.apply(void 0,h)}},getSchemaValue=function(a,b,c){return Object.keys(a).forEach(function(d){var e=a[d];(0,_typeCheck.isString)(e)&&-1===c.indexOf(d)?(a[d]=(0,_getObjDeepProp2.default)(e)(b),c.push(d)):isSchemeToolsObject(e)?a[d]=schemaToolGenerator(e,b):(0,_typeCheck.isObject)(e)&&getSchemaValue(e,b,c)}),c.length=0,a};exports.default=getSchemaValue;
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("."),__assign=function(){return __assign=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},__assign.apply(this,arguments)},JsonFunction=/** @class */function(){function a(){this.data=[],this.option={orderBy:null,where:null,limit:null,select:null,schema:null},this.config={resetRecord:!0}}return a.prototype.reset=function(){return this.option={orderBy:null,where:null,limit:null,select:null,schema:null},this.data=[],this},a.prototype.orderBy=function(a,b){return void 0===b&&(b="ASC"),this.option.orderBy=[a,b],this},a.prototype.where=function(a){return this.option.where=a,this},a.prototype.limit=function(a,b){return void 0===a&&(a=10),void 0===b&&(b=0),this.option.limit=[a,b],this},a.prototype.schema=function(a){return this.option.schema=a,this},a.prototype.select=function(a){return this.option.select=a,this},a.prototype.get=function(a,b){void 0===b&&(b={}),this.data=a;var c=this.option,d=c.orderBy,e=c.where,f=c.limit,g=c.select,h=c.schema;if(d){var i=d[0],j=d[1];this.data=(0,_.OrderBy)(this.data,i,j)}if(e&&(this.data=(0,_.Where)(this.data,e)),f){var k=f[0],l=f[1];this.data=(0,_.Limit)(this.data,k,l)}g&&(this.data=(0,_.Select)(this.data,g)),h&&(this.data=(0,_.Schema)(this.data,h));var m=this.data.slice(),n=__assign({},this.config,b);return!1!==n.resetRecord&&this.reset(),m},a}();exports.default=new JsonFunction;